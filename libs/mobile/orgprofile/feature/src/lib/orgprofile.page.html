<ion-header>
    <ion-toolbar color="secondary">
        <ion-buttons slot="start">
            <ion-button fill="clear" color="dark" (click)="preferences()">
                <ion-icon slot="icon-only" name="settings"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title class="ion-text-center">
            <img class="logo" src="../../assets/pawdoptheaderlogo.PNG">
        </ion-title>
        <ion-buttons slot="end" (click)="profile()">
            <ion-button fill="clear" color="dark">
                <ion-icon slot="icon-only" name="person"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<!--Back-->
<div>
    <ion-button class="ion-float-left" fill="clear" size="large" (click)="back()">
        <ion-icon name="arrow-back-circle"></ion-icon>
    </ion-button>
</div>

<!--Content-->
<ion-content>
    <ion-thumbnail class="logo">
        <!-- <img [src]="user.pic.path" [alt]="user.name"> -->
        <img class="logo" src="../../assets/spcalogo-meta.png">
    </ion-thumbnail>
    <div class="companyprofile">
        <h1><b>{{org.name}}</b></h1>
        <!-- Use google maps api return a string (suburb) of the coordinates-->
        <p><b><ion-icon name="location"></ion-icon>&nbsp;{{this.address}}</b></p>
        <p><b>Joined PaWdopt on {{dateString}}</b></p>

        <div class="container">
            <h1>Organisation Statistics</h1>
            <ion-grid class="middleButton">
                <ion-row>
                    <ion-col col-6>
                        <ion-label position="floating" class="form-input-label"><ion-icon name="calendar-number-outline"></ion-icon>&nbsp;Start Date</ion-label>
                        <ion-input class="actualDate" value="{{ inputStartDate | date: 'yyyy/MM/dd' }}" id="startdate"></ion-input>
                        <ion-popover trigger="startdate" size="auto" alignment="center" side="top" >
                            <ng-template>
                                <ion-datetime color="datetimecolor" presentation="date-time" [(ngModel)]="inputStartDate"></ion-datetime>
                            </ng-template>
                        </ion-popover>
                    </ion-col>
                    <ion-col col-6>
                        <ion-label position="floating" class="form-input-label"><ion-icon name="calendar-number-outline"></ion-icon>&nbsp;Start Date</ion-label>
                        <ion-input class="actualDate" value="{{ inputEndDate | date: 'yyyy/MM/dd' }}" id="enddate" ></ion-input>
                        <ion-popover trigger="enddate" size="auto" alignment="center" side="top" >
                            <ng-template>
                                <ion-datetime color="datetimecolor" presentation="date-time" [(ngModel)]="inputEndDate"></ion-datetime>
                            </ng-template>
                        </ion-popover>
                    </ion-col>
                </ion-row>
            </ion-grid>
            <br>

            <ion-button class="greyButton" (click)="updateStats()"><ion-icon name="stats-chart-outline"></ion-icon>&nbsp; See Statistics</ion-button>
            <br>
            <p><ion-icon name="paw"></ion-icon>&nbsp;{{org.totalDogs}} dogs available</p>
            <p><ion-icon name="checkmark-outline"></ion-icon>&nbsp;{{org.totalAdoptions}} dogs adopted</p>
            <h2>Gender Statistics</h2>
            <p>{{this.maleDogsAdopted}} Male Dogs adopted</p>
            <p>{{this.femaleDogsAdopted}} Female Dogs adopted</p>
            <h2>Breed Statistics</h2>
            <h3>Top 3 Breeds: </h3>
            <p>{{this.TopBreeds.amount1}} {{this.TopBreeds.breed1}} adopted</p>
            <p>{{this.TopBreeds.amount2}} {{this.TopBreeds.breed2}} adopted</p>
            <p>{{this.TopBreeds.amount3}} {{this.TopBreeds.breed3}} adopted</p>
            <h2>Age Statistics</h2>
            <p>Average Age of dogs: {{this.averageAge}}</p>
            <p>Most Popular age: {{this.mostPopularAge}}</p>
            <h2>Time Statistics</h2>
            <p>Average time for adoption process to start</p>
            <p>Average time from adoption process start to approval</p>
            <p>Average time from adoption process start to rejection</p>
            <p>Average time from add dog to adopted dog</p>
            <h2>Adoption Statistics</h2>
            <p>Amount of adoptionProcesses started</p>
            <p>Amount of Rejections</p>
            <p>Amount of approvals</p>

        </div>
    </div>

</ion-content>


<!--Footer-->
<ion-tab-bar color="secondary" slot="bottom">
    <ion-tab-button tab="home" (click)="home()">
        <ion-icon color="dark" name="home"></ion-icon>
    </ion-tab-button>
    <ion-tab-button tab="liked" (click)="likeddogs()">
        <ion-icon color="dark" name="paw"></ion-icon>
    </ion-tab-button>
    <ion-tab-button tab="chats">
        <ion-icon color="dark" name="chatbox"></ion-icon>
    </ion-tab-button>
</ion-tab-bar>